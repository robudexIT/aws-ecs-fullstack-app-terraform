(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e91c1"],{"8bab":function(t,e,a){"use strict";a.r(e);var r=a("7a23");const c=Object(r["h"])("p",null,"Fetching Data From the Database Please Wait....",-1),o=Object(r["k"])("Export "),s={key:0};function n(t,e,a,n,i,b){const d=Object(r["K"])("base-dialog"),l=Object(r["K"])("base-spinner"),j=Object(r["K"])("base-container"),O=Object(r["K"])("font-awesome-icon"),g=Object(r["K"])("generated-tag-metrics-data-list"),u=Object(r["K"])("generated-cdr-metrics-data-list"),h=Object(r["K"])("base-table");return Object(r["C"])(),Object(r["g"])(r["a"],null,[Object(r["l"])(d,{show:!!i.error,onClose:b.handleError},{default:Object(r["U"])(()=>[Object(r["h"])("p",null,Object(r["N"])(i.error),1)]),_:1},8,["show","onClose"]),i.isLoading?(Object(r["C"])(),Object(r["e"])(j,{key:0},{default:Object(r["U"])(()=>[Object(r["l"])(d,{show:i.isLoading},{default:Object(r["U"])(()=>[Object(r["l"])(l,null,{default:Object(r["U"])(()=>[c]),_:1})]),_:1},8,["show"])]),_:1})):(Object(r["C"])(),Object(r["e"])(j,{key:1},{default:Object(r["U"])(()=>[Object(r["h"])("button",{class:"btn btn-primary h-25 p-1 w-100",onClick:e[0]||(e[0]=(...t)=>b.exportMetrics&&b.exportMetrics(...t))},[o,Object(r["l"])(O,{icon:"spinner"})]),Object(r["l"])(O,{icon:"coffee"}),Object(r["l"])(h,{theader:"metricsHeader",tableclass:"metrics",metricsHeader:b.metricsGenerated.tableHeader},{default:Object(r["U"])(()=>["tag"==a.option_metrics?(Object(r["C"])(),Object(r["e"])(g,{key:0,tdata:b.metricsGenerated.tableTagRecords},null,8,["tdata"])):(Object(r["C"])(),Object(r["e"])(u,{key:1,tdata:b.metricsGenerated.tableCdrRecords,optiondata:b.metricsGenerated.outSideTableData},null,8,["tdata","optiondata"]))]),_:1},8,["metricsHeader"]),"tag"!=a.option_metrics?(Object(r["C"])(),Object(r["g"])("div",s,[Object(r["h"])("p",null,"Date Range: "+Object(r["N"])(b.dateTimeRange),1),Object(r["h"])("p",null,"Grand Total Counts: "+Object(r["N"])(b.grandTotalCounts),1),Object(r["h"])("p",null,"Grand Total Call Duration(HH:MM:SS): "+Object(r["N"])(b.grandTotalDurations),1)])):Object(r["f"])("",!0)]),_:1}))],64)}var i=a("5fc3");function b(t,e,a,c,o,s){return Object(r["C"])(!0),Object(r["g"])(r["a"],null,Object(r["I"])(a.tdata,(t,e)=>(Object(r["C"])(),Object(r["g"])("tr",{key:e},[(Object(r["C"])(!0),Object(r["g"])(r["a"],null,Object(r["I"])(t,(t,e)=>(Object(r["C"])(),Object(r["g"])("td",{key:e},Object(r["N"])(t),1))),128)),Object(r["h"])("td",null,Object(r["N"])(s.getTotal(t)),1)]))),128)}a("13d5");var d={props:["tdata"],methods:{getTotal(t){let e=t.filter(t=>{if("number"===typeof t)return t}).reduce((t,e)=>t+e,0);return e}}},l=a("6b0d"),j=a.n(l);const O=j()(d,[["render",b]]);var g=O;const u={key:0},h={key:1},p={key:2},m={key:3};function C(t,e,a,c,o,s){return Object(r["C"])(!0),Object(r["g"])(r["a"],null,Object(r["I"])(a.tdata,(t,e)=>(Object(r["C"])(),Object(r["g"])("tr",{key:e},[Object(r["h"])("td",null,Object(r["N"])(e+1),1),Object(r["h"])("td",null,Object(r["N"])(t.name),1),Object(r["h"])("td",null,Object(r["N"])(t.extension),1),0!=a.optiondata.callcount_weight?(Object(r["C"])(),Object(r["g"])("td",u,Object(r["N"])(t.total_counts),1)):Object(r["f"])("",!0),0!=a.optiondata.duration_weight?(Object(r["C"])(),Object(r["g"])("td",h,Object(r["N"])(t.total_duration),1)):Object(r["f"])("",!0),0!=a.optiondata.callcount_weight?(Object(r["C"])(),Object(r["g"])("td",p,Object(r["N"])(t.c_percentage)+"%",1)):Object(r["f"])("",!0),0!=a.optiondata.duration_weight?(Object(r["C"])(),Object(r["g"])("td",m,Object(r["N"])(t.d_percentage)+"%",1)):Object(r["f"])("",!0),Object(r["h"])("td",null,Object(r["N"])(t.total_percentage)+"%",1)]))),128)}var _={props:["tdata","optiondata"]};const f=j()(_,[["render",C]]);var w=f,T=a("ad3d"),k={components:{GeneratedTagMetricsDataList:g,GeneratedCdrMetricsDataList:w,BaseContainer:i["a"],FontAwesomeIcon:T["a"]},props:["sort_order","option_metrics"],data(){return{error:null,isLoading:!1,appName:this.$store.getters.getAppName}},methods:{async generateMetrics(){let t=window.location.search.substring(1);try{this.isLoading=!0,await this.$store.dispatch("metrics/generateMetrics",{querystring:t,sort_order:this.sort_order,option_metrics:this.option_metrics}),this.isLoading=!1}catch(e){this.error=e.message}},exportMetrics(){let t;t="tag"==this.option_metrics?this.$store.getters["metrics/getTagExportData"]:this.$store.getters["metrics/getCdrExportData"],window.Jhxlsx.export(t.tableData,t.options)},handleError(){this.error=null}},computed:{metricsGenerated(){let t;return t="tag"==this.option_metrics?this.$store.getters["metrics/getTagMetricsGeneratedData"]:"callduration"==this.option_metrics||"callcounts"==this.option_metrics||"blended"==this.option_metrics?this.$store.getters["metrics/getCdrMetricsGeneratedData"]:"This Metrics is not available",t},dateTimeRange(){return this.$store.getters["metrics/getDateTimeRange"]},grandTotalCounts(){return this.$store.getters["metrics/getGrandTotalCounts"]},grandTotalDurations(){return this.$store.getters["metrics/getGrandTotalDurations"]},getAutoLogoutStatus(){return this.$store.getters["getAutoLogoutStatus"]}},created(){this.$store.dispatch("checkIfCurrentLogin"),this.generateMetrics()},watch:{getAutoLogoutStatus(t,e){t&&t!==e&&this.$router.replace("/"+this.appName+"/login")}}};const y=j()(k,[["render",n]]);e["default"]=y}}]);
//# sourceMappingURL=chunk-2d0e91c1.3030179c.js.map