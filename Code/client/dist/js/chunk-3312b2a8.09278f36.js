(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3312b2a8"],{"0b97":function(e,t,a){"use strict";a("f49c")},"826f":function(e,t,a){"use strict";a.r(t);var l=a("7a23");const s={key:0},d=Object(l["h"])("p",null,"Fetching Data From the Database Please Wait....",-1),i={key:1},n=["data-bs-target"];function r(e,t,a,r,c,m){const o=Object(l["K"])("base-dialog"),b=Object(l["K"])("base-spinner"),u=Object(l["K"])("tags-data-list"),h=Object(l["K"])("base-table"),g=Object(l["K"])("management-modal-form"),O=Object(l["K"])("base-container");return Object(l["C"])(),Object(l["g"])(l["a"],null,[Object(l["l"])(o,{show:!!c.error,onClose:m.handleError},{default:Object(l["U"])(()=>[Object(l["h"])("p",null,Object(l["N"])(c.error),1)]),_:1},8,["show","onClose"]),Object(l["l"])(O,null,{default:Object(l["U"])(()=>[c.isLoading?(Object(l["C"])(),Object(l["g"])("div",s,[Object(l["l"])(o,{show:c.isLoading},{default:Object(l["U"])(()=>[Object(l["l"])(b,null,{default:Object(l["U"])(()=>[d]),_:1})]),_:1},8,["show"])])):(Object(l["C"])(),Object(l["g"])("div",i,[Object(l["l"])(h,{theader:"tags",tableclass:"tags"},{default:Object(l["U"])(()=>[Object(l["l"])(u,{tdata:m.allTags,onClick:m.deleteTag},null,8,["tdata","onClick"])]),_:1}),Object(l["l"])(g,{modalId:"modalTag",modalTitle:"Add Tag",formId:"addTag",formMethod:"POST",onEmittedData:m.addTag},null,8,["onEmittedData"]),Object(l["h"])("button",{type:"button",class:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":c.dataBsTarget,"dataset-backdrop":"static","dataset-keyboard":"false",id:"add_tag"}," ADD TAG ",8,n)]))]),_:1})],64)}const c=["id","onClick"];function m(e,t,a,s,d,i){return Object(l["C"])(!0),Object(l["g"])(l["a"],null,Object(l["I"])(a.tdata,(e,t)=>(Object(l["C"])(),Object(l["g"])("tr",{key:t},[Object(l["h"])("td",null,Object(l["N"])(t+1),1),Object(l["h"])("td",{style:Object(l["x"])(i.tagNameStyle(e.tagtype))},Object(l["N"])(e.tagtype),5),Object(l["h"])("td",null,Object(l["N"])(e.tagname),1),Object(l["h"])("td",null,Object(l["N"])(e.createdby),1),Object(l["h"])("td",null,Object(l["N"])(e.createddate),1),Object(l["h"])("td",null,[Object(l["h"])("button",{class:"btn btn-danger btn-sm font-weight-normal lead",id:e.tagId,onClick:t=>i.deleteTag(e.tagId)},"DELETE",8,c)])]))),128)}var o={props:["tdata"],methods:{tagNameStyle(e){let t;return t="CSDINBOUND"==e?"green":"CSDOUTBOUND"==e?"blue":"purple",{color:t,fontWeight:700}},deleteTag(e){this.$emit("click",e)}}},b=a("6b0d"),u=a.n(b);const h=u()(o,[["render",m]]);var g=h,O=a("86df"),j={data(){return{dataBsTarget:"#modalTag",isLoading:!1,error:null,appName:this.$store.getters.getAppName}},components:{TagsDataList:g,ManagementModalForm:O["a"]},methods:{async fetchtAllTags(){try{this.isLoading=!0,await this.$store.dispatch("tags/fetchAllTags"),this.isLoading=!1}catch(e){this.error=e.message}},async addTag(e){console.log("test");try{this.isLoading=!0,await this.$store.dispatch("tags/createTag",e),this.isLoading=!1}catch(t){alert(t.message),this.error=t.message}},deleteTag(e){try{confirm(`Are you sure you want delete ${e} Tag? `)&&this.$store.dispatch("tags/deleteTag",{tagId:e})&&alert("Tag was successfully deleted")}catch(t){this.error=t.message}},handleError(){this.error=null}},computed:{allTags(){return this.$store.getters["tags/getAllTags"]},getAutoLogoutStatus(){return this.$store.getters["getAutoLogoutStatus"]}},created(){this.$store.dispatch("checkIfCurrentLogin"),this.fetchtAllTags()},watch:{getAutoLogoutStatus(e,t){e&&e!==t&&this.$router.replace("/"+this.appName+"/login")}}};const p=u()(j,[["render",r]]);t["default"]=p},"86df":function(e,t,a){"use strict";var l=a("7a23");const s=e=>(Object(l["F"])("data-v-4b9f02f6"),e=e(),Object(l["D"])(),e),d=["id"],i={class:"modal-dialog"},n={class:"modal-content"},r={class:"modal-header"},c={class:"modal-title"},m={class:"modal-body"},o=["method","id"],b={key:0,class:"errorP"},u={class:"mb-3"},h=s(()=>Object(l["h"])("label",{for:"Add Tag",class:"mb-3"},"Add Tag",-1)),g=s(()=>Object(l["h"])("div",{id:"tagdesc",class:"form-text"},"All tag must be unique.",-1)),O={class:"mb-3"},j=s(()=>Object(l["h"])("label",{for:"TagType",class:"mb-2"},"Select TagType:",-1)),p=s(()=>Object(l["h"])("option",{value:"CSDINBOUND"},"CSD-INBOUND",-1)),v=s(()=>Object(l["h"])("option",{value:"CSDOUTBOUND"},"CSD-OUTBOUND",-1)),f=s(()=>Object(l["h"])("option",{value:"COLLECTION"},"COLLECTION",-1)),T=[p,v,f],y={key:0,class:"errorP"},I={class:"mb-3"},N=s(()=>Object(l["h"])("label",{for:"Name",class:"mb-3"},"Name",-1)),E={class:"mb-3"},L=s(()=>Object(l["h"])("label",{for:"Email Address",class:"mb-3"},"Email Address",-1)),k={class:"mb-3"},C=s(()=>Object(l["h"])("label",{for:"extension",class:"mb-3"},"Extension",-1)),V={key:1,class:"mb-3"},D=s(()=>Object(l["h"])("label",{for:"TagType",class:"mb-2"},"Select Team Leader:",-1)),x=["value"],A={key:0,class:"errorP"},U={key:1,class:"errorP"},S={class:"mb-3"},w=s(()=>Object(l["h"])("label",{for:"Name",class:"mb-3"},"Name",-1)),F=["value"],B={class:"mb-3"},$=s(()=>Object(l["h"])("label",{for:"Email Address",class:"mb-3"},"Email Address",-1)),P=["value"],M={class:"mb-3"},_=s(()=>Object(l["h"])("label",{for:"extension",class:"mb-3"},"Extension",-1)),K=["value"],q={key:2,class:"mb-3"},J=s(()=>Object(l["h"])("label",{for:"TagType",class:"mb-2"},"Select Team Leader:",-1)),R=["value"],W=["value"],G=s(()=>Object(l["h"])("hr",null,null,-1)),X={class:"row justify-content-end"},Y={class:"col-5"},z=s(()=>Object(l["h"])("button",{type:"button ",class:"btn btn-primary ml-auto m-1",id:"addbtn"},"Submit",-1));function H(e,t,a,s,p,v){const f=Object(l["K"])("opttion");return Object(l["C"])(),Object(l["g"])("div",{class:"modal fade",id:a.modalId,role:"dialog"},[Object(l["h"])("div",i,[Object(l["h"])("div",n,[Object(l["h"])("div",r,[Object(l["h"])("h4",c,Object(l["N"])(a.modalTitle),1)]),Object(l["h"])("div",m,[Object(l["h"])("form",{method:a.formMethod,id:a.formId,onSubmit:t[10]||(t[10]=Object(l["X"])((...e)=>v.submitFromData&&v.submitFromData(...e),["prevent"]))},["addTag"==a.formId&&"modalTag"==a.modalId?(Object(l["C"])(),Object(l["g"])("div",{key:0,class:Object(l["v"])(v.errorDiv)},[p.mdlIsValid?Object(l["f"])("",!0):(Object(l["C"])(),Object(l["g"])("p",b,"Please Make Sure That Dont Leave Blank on the Input Fields")),Object(l["h"])("div",u,[h,Object(l["V"])(Object(l["h"])("input",{type:"text",class:"form-control",id:"tag","aria-describedby":"tag","onUpdate:modelValue":t[0]||(t[0]=e=>p.mdlTag.val=e)},null,512),[[l["S"],p.mdlTag.val]]),g]),Object(l["h"])("div",O,[j,Object(l["V"])(Object(l["h"])("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[1]||(t[1]=e=>p.mdlTagType.val=e)},T,512),[[l["R"],p.mdlTagType.val]])])],2)):Object(l["f"])("",!0),"addAgent"==a.formId&&"modalAgent"==a.modalId?(Object(l["C"])(),Object(l["g"])("div",{key:1,class:Object(l["v"])(v.errorDiv)},[p.mdlIsValid?Object(l["f"])("",!0):(Object(l["C"])(),Object(l["g"])("p",y,"Please Make Sure That Dont Leave Blank on the Input Fields")),Object(l["h"])("div",I,[N,Object(l["V"])(Object(l["h"])("input",{type:"text",class:"form-control",id:"name","aria-describedby":"name",placeholder:"Agent Name","onUpdate:modelValue":t[2]||(t[2]=e=>p.mdlName.val=e)},null,512),[[l["S"],p.mdlName.val]])]),Object(l["h"])("div",E,[L,Object(l["V"])(Object(l["h"])("input",{type:"email",class:"form-control",id:"email","aria-describedby":"email",placeholder:"Enter Valid Email","onUpdate:modelValue":t[3]||(t[3]=e=>p.mdlEmail.val=e)},null,512),[[l["S"],p.mdlEmail.val]])]),Object(l["h"])("div",k,[C,Object(l["V"])(Object(l["h"])("input",{type:"text",class:"form-control",id:"extension","aria-describedby":"extension",placeholder:"Enter Unique Ext.","onUpdate:modelValue":t[4]||(t[4]=e=>p.mdlExt.val=e)},null,512),[[l["S"],p.mdlExt.val]])]),"sales"==a.agent?(Object(l["C"])(),Object(l["g"])("div",V,[D,Object(l["V"])(Object(l["h"])("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[5]||(t[5]=e=>p.selectedTeamLeader.val=e)},[(Object(l["C"])(!0),Object(l["g"])(l["a"],null,Object(l["I"])(v.salesTeamLeaders,e=>(Object(l["C"])(),Object(l["g"])("option",{key:e,value:e},Object(l["N"])(e),9,x))),128))],512),[[l["R"],p.selectedTeamLeader.val]])])):Object(l["f"])("",!0)],2)):Object(l["f"])("",!0),"updateAgent"==a.formId&&"updatemodalAgent"==a.modalId?(Object(l["C"])(),Object(l["g"])("div",{key:2,class:Object(l["v"])(v.errorDiv)},[!p.mdlIsValid&&v.noUpdate?(Object(l["C"])(),Object(l["g"])("p",A,"No Found Changes ")):Object(l["f"])("",!0),!p.mdlIsValid&&v.blankFields?(Object(l["C"])(),Object(l["g"])("p",U,"Please Make Sure That Dont Leave Blank on the Input Fields")):Object(l["f"])("",!0),Object(l["h"])("div",S,[w,Object(l["h"])("input",{type:"text",class:"form-control",id:"updatename","aria-describedby":"name",placeholder:"Agent Name",value:a.currentName,onInput:t[6]||(t[6]=(...e)=>v.setName&&v.setName(...e))},null,40,F)]),Object(l["h"])("div",B,[$,Object(l["h"])("input",{type:"email",class:"form-control",id:"updateemail","aria-describedby":"email",placeholder:"Enter Valid Email",value:a.currentEmail,onInput:t[7]||(t[7]=(...e)=>v.setEmail&&v.setEmail(...e))},null,40,P)]),Object(l["h"])("div",M,[_,Object(l["h"])("input",{type:"text",class:"form-control",id:"updateextension","aria-describedby":"extension",placeholder:"Enter Unique Ext.",value:a.extension,disabled:""},null,8,K)]),"sales"==a.agent?(Object(l["C"])(),Object(l["g"])("div",q,[J,Object(l["h"])("select",{class:"form-select","aria-label":"Default select example",value:a.currentTeamLeader,onChange:t[8]||(t[8]=(...e)=>v.setTeamLeader&&v.setTeamLeader(...e))},[Object(l["l"])(f,{value:a.currentTeamLeader,selected:""},{default:Object(l["U"])(()=>[Object(l["k"])(Object(l["N"])(a.currentTeamLeader),1)]),_:1},8,["value"]),(Object(l["C"])(!0),Object(l["g"])(l["a"],null,Object(l["I"])(v.salesTeamLeaders,e=>(Object(l["C"])(),Object(l["g"])("option",{key:e,value:e},Object(l["N"])(e),9,W))),128))],40,R)])):Object(l["f"])("",!0)],2)):Object(l["f"])("",!0),G,Object(l["h"])("div",X,[Object(l["h"])("div",Y,[z,Object(l["h"])("button",{type:"button",class:"btn btn-danger ml-auto","data-bs-dismiss":"modal",onClick:t[9]||(t[9]=(...e)=>v.resetInputs&&v.resetInputs(...e))},"Close")])])],40,o)])])])],8,d)}var Q={emits:["emittedData"],props:["modalId","modalTitle","formId","formMethod","agent","currentName","currentEmail","extension","currentTeamLeader"],data(){return{mdlIsValid:!0,mdlName:{val:null,isValid:!0},mdlEmail:{val:null,isValid:!0},mdlExt:{val:null,isValid:!0},mdlTag:{val:null,isValid:!0},mdlTagType:{val:null,isValid:!0},selectedTeamLeader:{val:null,isValid:!0},updateName:null,updateEmail:null,updateTeamLeader:null}},computed:{salesTeamLeaders(){return this.$store.getters["agentinfo/getSalesTeamLeaders"]},errorDiv(){return this.mdlIsValid?"":"errorDiv"},noUpdate(){return null==this.updateName&&null==this.updateEmail},blankFields(){return""==this.updateName||""==this.updateEmail}},methods:{setName(e){this.updateName=e.target.value,this.mdlIsValid=!0},setEmail(e){this.updateEmail=e.target.value,this.mdlIsValid=!0},setTeamLeader(e){this.updateTeamLeader=e.target.value,this.mdlIsValid=!0},formValidation(){return this.mdlIsValid=!0,"modalTag"==this.modalId&&"addTag"==this.formId?null!=this.mdlTag.val&&""!=this.mdlTag.val&&null!=this.mdlTagType.val&&""!=this.mdlTagType.val||(alert("Blank Fields are not allowed.Please dont leave any blank fields before submitting the form"),this.mdlIsValid=!1):"modalAgent"==this.modalId&&"addAgent"==this.formId?"sales"==this.agent?null!=this.mdlName.val&&""!=this.mdlName.val&&null!=this.mdlEmail.val&&""!=this.mdlEmail.val&&null!=this.mdlExt.val&&""!=this.mdlExt.val&&null!=this.selectedTeamLeader.val&&""!=this.selectedTeamLeader.val||(alert("Blank Fields are not allowed.Please dont leave any blank fields before submitting the form"),this.mdlIsValid=!1):null!=this.mdlName.val&&""!=this.mdlName.val&&null!=this.mdlEmail.val&&""!=this.mdlEmail.val&&null!=this.mdlExt.val&&""!=this.mdlExt.val||(alert("Blank Fields are not allowed.Please dont leave any blank fields before submitting the form"),this.mdlIsValid=!1):"updateAgent"==this.formId&&"updatemodalAgent"==this.modalId&&("sales"==this.agent?null==this.updateTeamLeader&&null==this.updateName&&null==this.updateEmail?(alert("No Found Changes"),this.mdlIsValid=!1):""!=this.updateTeamLeader&&""!=this.updateName&&""!=this.updateEmail||(alert("Blank Fields are not allowed.Please dont leave any blank fields before submitting the form"),this.mdlIsValid=!1):null==this.updateName&&null==this.updateEmail?(alert("No Found Changes"),this.mdlIsValid=!1):""!=this.updateName&&""!=this.updateEmail||(alert("Blank Fields are not allowed.Please dont leave any blank fields before submitting the form"),this.mdlIsValid=!1)),this.mdlIsValid},resetInputs(){this.mdlExt.val=null,this.mdlName.val=null,this.mdlEmail.val=null,this.selectedTeamLeader.val=null,this.updateName=null,this.updateEmail=null,this.updateTeamLeader=null,this.mdlIsValid=!0},submitFromData(){if(!this.formValidation())return;let e;if("modalTag"==this.modalId&&"addTag"==this.formId){let t=new Date,a=t.getMonth()+1,l=t.getFullYear(),s=t.getDate(),d=`${l}-${a}-${s}`;e={createdby:this.$store.getters["getLoggedinUserData"].name,createddate:d,tagname:this.mdlTag.val,tagtype:this.mdlTagType.val},console.log(e)}else if("modalAgent"==this.modalId&&"addAgent"==this.formId)e={name:this.mdlName.val,email:this.mdlEmail.val,extension:this.mdlExt.val},"sales"==this.agent&&(e.teamlead=this.selectedTeamLeader.val);else if("updateAgent"==this.formId&&"updatemodalAgent"==this.modalId){let t,a;t=null!==this.updateName?this.updateName:this.currentName,a=null!==this.updateEmail?this.updateEmail:this.currentEmail,e={name:t,email:a,extension:this.extension},"sales"==this.agent&&(null!==this.updateTeamLeader?(e.teamlead=this.updateTeamLeader,this.updateTeamLeader=null):(e.teamlead=this.currentTeamLeader,this.updateTeamLeader=null))}this.$emit("emittedData",e),this.resetInputs()}}},Z=(a("0b97"),a("6b0d")),ee=a.n(Z);const te=ee()(Q,[["render",H],["__scopeId","data-v-4b9f02f6"]]);t["a"]=te},f49c:function(e,t,a){}}]);
//# sourceMappingURL=chunk-3312b2a8.09278f36.js.map