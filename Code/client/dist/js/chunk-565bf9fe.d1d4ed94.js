(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-565bf9fe"],{"0b97":function(e,t,a){"use strict";a("f49c")},"55aa":function(e,t,a){"use strict";a.r(t);var l=a("7a23");const s={key:0},d=Object(l["h"])("p",null,"Fetching Data From the Database Please Wait....",-1),n={key:1},i=["data-bs-target"];function o(e,t,a,o,m,r){const c=Object(l["K"])("base-dialog"),b=Object(l["K"])("base-spinner"),u=Object(l["K"])("base-dialoag"),h=Object(l["K"])("agents-data-list"),g=Object(l["K"])("base-table"),O=Object(l["K"])("management-modal-form"),p=Object(l["K"])("base-container");return Object(l["C"])(),Object(l["g"])(l["a"],null,[Object(l["l"])(c,{show:!!m.error,onClose:r.handleError},{default:Object(l["U"])(()=>[Object(l["h"])("p",null,Object(l["N"])(m.error),1)]),_:1},8,["show","onClose"]),Object(l["l"])(p,null,{default:Object(l["U"])(()=>[m.isLoading?(Object(l["C"])(),Object(l["g"])("div",s,[Object(l["l"])(u,{show:m.isLoading},{default:Object(l["U"])(()=>[Object(l["l"])(b,null,{default:Object(l["U"])(()=>[d]),_:1})]),_:1},8,["show"])])):(Object(l["C"])(),Object(l["g"])("div",n,[Object(l["l"])(g,{theader:"agent",tableclass:"agent"},{default:Object(l["U"])(()=>[Object(l["l"])(h,{tdata:r.allAgents,onClick:r.deleteAgent,agent:a.agent,onEmittedData:r.updateAgent},null,8,["tdata","onClick","agent","onEmittedData"])]),_:1}),Object(l["l"])(O,{modalId:"modalAgent",modalTitle:"Add Agent",formId:"addAgent",formMethod:"POST",agent:a.agent,onEmittedData:r.addAgent},null,8,["agent","onEmittedData"]),Object(l["h"])("button",{type:"button",class:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":m.dataBsTarget,"dataset-backdrop":"static","dataset-keyboard":"false",id:"add_tag"}," ADD AGENT ",8,i)]))]),_:1})],64)}const m={class:"lead text-justify"},r={class:"lead text-justify"},c={class:"text-primary lead text-justify"},b=["data-bs-target","onClick"],u=["onClick"];function h(e,t,a,s,d,n){const i=Object(l["K"])("management-modal-form");return Object(l["C"])(),Object(l["g"])(l["a"],null,[(Object(l["C"])(!0),Object(l["g"])(l["a"],null,Object(l["I"])(a.tdata,(e,t)=>(Object(l["C"])(),Object(l["g"])("tr",{key:t},[Object(l["h"])("td",null,Object(l["N"])(t+1),1),Object(l["h"])("td",m,Object(l["N"])(e.extension),1),Object(l["h"])("td",r,Object(l["N"])(e.name),1),Object(l["h"])("td",c,Object(l["N"])(e.email),1),Object(l["h"])("td",null,[Object(l["h"])("button",{type:"button",class:"btn btn-primary btn-sm font-weight-normal lead","data-bs-toggle":"modal","data-bs-target":d.dataBsTarget,"dataset-backdrop":"static","dataset-keyboard":"false",onClick:t=>n.getAgentInfo(e)},"UPDATE ",8,b),Object(l["h"])("button",{class:"btn btn-danger btn-sm font-weight-normal lead",onClick:t=>n.deleteAgent(e.extension)},"DELETE",8,u)])]))),128)),Object(l["l"])(i,{modalId:"updatemodalAgent",modalTitle:"Update Agent",formId:"updateAgent",formMethod:"POST",item:d.item,agent:a.agent,extension:d.extension,currentName:d.name,currentEmail:d.email,currentTeamLeader:d.teamlead,onEmittedData:n.updateAgent},null,8,["item","agent","extension","currentName","currentEmail","currentTeamLeader","onEmittedData"])],64)}var g=a("86df"),O={props:["tdata","agent"],data(){return{dataBsTarget:"#updatemodalAgent",item:"test",name:null,email:null,extension:null,teamlead:null}},components:{ManagementModalForm:g["a"]},methods:{deleteAgent(e){this.$emit("click",e)},getAgentInfo(e){this.name=e.name,this.email=e.email,this.extension=e.extension,this.teamlead=e.teamlead},updateAgent(e){this.$emit("emittedData",e)}}},p=a("6b0d"),j=a.n(p);const f=j()(O,[["render",h]]);var v=f,T={props:["agent"],emits:["emittedData"],data(){return{dataBsTarget:"#modalAgent",isLoading:!1,error:null,appName:this.$store.getters.getAppName}},components:{AgentsDataList:v,ManagementModalForm:g["a"]},methods:{async fetchAllAgents(){try{this.isLoading=!0,await this.$store.dispatch("agentinfo/fetchAllAgents",{agent:this.agent}),this.isLoading=!1}catch(e){this.error=e.message}},async addAgent(e){try{await this.$store.dispatch("agentinfo/createAgent",{data:e,agent:this.agent}),alert(this.agent.toUpperCase()+"Agent was successfully added")}catch(t){this.error=t.message,alert(this.error+" Please Check if the extension was already used")}},async updateAgent(e){try{await this.$store.dispatch("agentinfo/updateAgent",{data:e,agent:this.agent}),alert(this.agent.toUpperCase()+"Agent was successfully updateAgent")}catch(t){this.error=t.message}},deleteAgent(e){let t=confirm(`Are you sure you want delete ${e} Agent? Deleting Agent will automatically delete Agent Records as well`);if(t)try{this.$store.dispatch("agentinfo/deleteAgent",{extension:e,agent:this.agent}),alert("Selected  "+this.agent.toUpperCase()+" agent with "+e+" was successfully deleted")}catch(a){this.error=a.message}},handleError(){this.error=null}},computed:{allAgents(){let e;return e="csd"==this.agent?this.$store.getters["agentinfo/getCsdAgents"]:"collection"==this.agent?this.$store.getters["agentinfo/getCollectionAgents"]:"sales"==this.agent?this.$store.getters["agentinfo/getSalesAgents"]:"No Agent Found",e},getAutoLogoutStatus(){return this.$store.getters["getAutoLogoutStatus"]}},created(){this.$store.dispatch("checkIfCurrentLogin"),this.fetchAllAgents()},watch:{agent(){this.fetchAllAgents()},getAutoLogoutStatus(e,t){e&&e!==t&&this.$router.replace("/"+this.appName+"/login")}}};const A=j()(T,[["render",o]]);t["default"]=A},"86df":function(e,t,a){"use strict";var l=a("7a23");const s=e=>(Object(l["F"])("data-v-4b9f02f6"),e=e(),Object(l["D"])(),e),d=["id"],n={class:"modal-dialog"},i={class:"modal-content"},o={class:"modal-header"},m={class:"modal-title"},r={class:"modal-body"},c=["method","id"],b={key:0,class:"errorP"},u={class:"mb-3"},h=s(()=>Object(l["h"])("label",{for:"Add Tag",class:"mb-3"},"Add Tag",-1)),g=s(()=>Object(l["h"])("div",{id:"tagdesc",class:"form-text"},"All tag must be unique.",-1)),O={class:"mb-3"},p=s(()=>Object(l["h"])("label",{for:"TagType",class:"mb-2"},"Select TagType:",-1)),j=s(()=>Object(l["h"])("option",{value:"CSDINBOUND"},"CSD-INBOUND",-1)),f=s(()=>Object(l["h"])("option",{value:"CSDOUTBOUND"},"CSD-OUTBOUND",-1)),v=s(()=>Object(l["h"])("option",{value:"COLLECTION"},"COLLECTION",-1)),T=[j,f,v],A={key:0,class:"errorP"},y={class:"mb-3"},E=s(()=>Object(l["h"])("label",{for:"Name",class:"mb-3"},"Name",-1)),I={class:"mb-3"},N=s(()=>Object(l["h"])("label",{for:"Email Address",class:"mb-3"},"Email Address",-1)),k={class:"mb-3"},L=s(()=>Object(l["h"])("label",{for:"extension",class:"mb-3"},"Extension",-1)),C={key:1,class:"mb-3"},x=s(()=>Object(l["h"])("label",{for:"TagType",class:"mb-2"},"Select Team Leader:",-1)),D=["value"],V={key:0,class:"errorP"},w={key:1,class:"errorP"},U={class:"mb-3"},S=s(()=>Object(l["h"])("label",{for:"Name",class:"mb-3"},"Name",-1)),F=["value"],$={class:"mb-3"},P=s(()=>Object(l["h"])("label",{for:"Email Address",class:"mb-3"},"Email Address",-1)),B=["value"],M={class:"mb-3"},K=s(()=>Object(l["h"])("label",{for:"extension",class:"mb-3"},"Extension",-1)),_=["value"],q={key:2,class:"mb-3"},R=s(()=>Object(l["h"])("label",{for:"TagType",class:"mb-2"},"Select Team Leader:",-1)),J=["value"],G=["value"],W=s(()=>Object(l["h"])("hr",null,null,-1)),X={class:"row justify-content-end"},Y={class:"col-5"},z=s(()=>Object(l["h"])("button",{type:"button ",class:"btn btn-primary ml-auto m-1",id:"addbtn"},"Submit",-1));function H(e,t,a,s,j,f){const v=Object(l["K"])("opttion");return Object(l["C"])(),Object(l["g"])("div",{class:"modal fade",id:a.modalId,role:"dialog"},[Object(l["h"])("div",n,[Object(l["h"])("div",i,[Object(l["h"])("div",o,[Object(l["h"])("h4",m,Object(l["N"])(a.modalTitle),1)]),Object(l["h"])("div",r,[Object(l["h"])("form",{method:a.formMethod,id:a.formId,onSubmit:t[10]||(t[10]=Object(l["X"])((...e)=>f.submitFromData&&f.submitFromData(...e),["prevent"]))},["addTag"==a.formId&&"modalTag"==a.modalId?(Object(l["C"])(),Object(l["g"])("div",{key:0,class:Object(l["v"])(f.errorDiv)},[j.mdlIsValid?Object(l["f"])("",!0):(Object(l["C"])(),Object(l["g"])("p",b,"Please Make Sure That Dont Leave Blank on the Input Fields")),Object(l["h"])("div",u,[h,Object(l["V"])(Object(l["h"])("input",{type:"text",class:"form-control",id:"tag","aria-describedby":"tag","onUpdate:modelValue":t[0]||(t[0]=e=>j.mdlTag.val=e)},null,512),[[l["S"],j.mdlTag.val]]),g]),Object(l["h"])("div",O,[p,Object(l["V"])(Object(l["h"])("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[1]||(t[1]=e=>j.mdlTagType.val=e)},T,512),[[l["R"],j.mdlTagType.val]])])],2)):Object(l["f"])("",!0),"addAgent"==a.formId&&"modalAgent"==a.modalId?(Object(l["C"])(),Object(l["g"])("div",{key:1,class:Object(l["v"])(f.errorDiv)},[j.mdlIsValid?Object(l["f"])("",!0):(Object(l["C"])(),Object(l["g"])("p",A,"Please Make Sure That Dont Leave Blank on the Input Fields")),Object(l["h"])("div",y,[E,Object(l["V"])(Object(l["h"])("input",{type:"text",class:"form-control",id:"name","aria-describedby":"name",placeholder:"Agent Name","onUpdate:modelValue":t[2]||(t[2]=e=>j.mdlName.val=e)},null,512),[[l["S"],j.mdlName.val]])]),Object(l["h"])("div",I,[N,Object(l["V"])(Object(l["h"])("input",{type:"email",class:"form-control",id:"email","aria-describedby":"email",placeholder:"Enter Valid Email","onUpdate:modelValue":t[3]||(t[3]=e=>j.mdlEmail.val=e)},null,512),[[l["S"],j.mdlEmail.val]])]),Object(l["h"])("div",k,[L,Object(l["V"])(Object(l["h"])("input",{type:"text",class:"form-control",id:"extension","aria-describedby":"extension",placeholder:"Enter Unique Ext.","onUpdate:modelValue":t[4]||(t[4]=e=>j.mdlExt.val=e)},null,512),[[l["S"],j.mdlExt.val]])]),"sales"==a.agent?(Object(l["C"])(),Object(l["g"])("div",C,[x,Object(l["V"])(Object(l["h"])("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[5]||(t[5]=e=>j.selectedTeamLeader.val=e)},[(Object(l["C"])(!0),Object(l["g"])(l["a"],null,Object(l["I"])(f.salesTeamLeaders,e=>(Object(l["C"])(),Object(l["g"])("option",{key:e,value:e},Object(l["N"])(e),9,D))),128))],512),[[l["R"],j.selectedTeamLeader.val]])])):Object(l["f"])("",!0)],2)):Object(l["f"])("",!0),"updateAgent"==a.formId&&"updatemodalAgent"==a.modalId?(Object(l["C"])(),Object(l["g"])("div",{key:2,class:Object(l["v"])(f.errorDiv)},[!j.mdlIsValid&&f.noUpdate?(Object(l["C"])(),Object(l["g"])("p",V,"No Found Changes ")):Object(l["f"])("",!0),!j.mdlIsValid&&f.blankFields?(Object(l["C"])(),Object(l["g"])("p",w,"Please Make Sure That Dont Leave Blank on the Input Fields")):Object(l["f"])("",!0),Object(l["h"])("div",U,[S,Object(l["h"])("input",{type:"text",class:"form-control",id:"updatename","aria-describedby":"name",placeholder:"Agent Name",value:a.currentName,onInput:t[6]||(t[6]=(...e)=>f.setName&&f.setName(...e))},null,40,F)]),Object(l["h"])("div",$,[P,Object(l["h"])("input",{type:"email",class:"form-control",id:"updateemail","aria-describedby":"email",placeholder:"Enter Valid Email",value:a.currentEmail,onInput:t[7]||(t[7]=(...e)=>f.setEmail&&f.setEmail(...e))},null,40,B)]),Object(l["h"])("div",M,[K,Object(l["h"])("input",{type:"text",class:"form-control",id:"updateextension","aria-describedby":"extension",placeholder:"Enter Unique Ext.",value:a.extension,disabled:""},null,8,_)]),"sales"==a.agent?(Object(l["C"])(),Object(l["g"])("div",q,[R,Object(l["h"])("select",{class:"form-select","aria-label":"Default select example",value:a.currentTeamLeader,onChange:t[8]||(t[8]=(...e)=>f.setTeamLeader&&f.setTeamLeader(...e))},[Object(l["l"])(v,{value:a.currentTeamLeader,selected:""},{default:Object(l["U"])(()=>[Object(l["k"])(Object(l["N"])(a.currentTeamLeader),1)]),_:1},8,["value"]),(Object(l["C"])(!0),Object(l["g"])(l["a"],null,Object(l["I"])(f.salesTeamLeaders,e=>(Object(l["C"])(),Object(l["g"])("option",{key:e,value:e},Object(l["N"])(e),9,G))),128))],40,J)])):Object(l["f"])("",!0)],2)):Object(l["f"])("",!0),W,Object(l["h"])("div",X,[Object(l["h"])("div",Y,[z,Object(l["h"])("button",{type:"button",class:"btn btn-danger ml-auto","data-bs-dismiss":"modal",onClick:t[9]||(t[9]=(...e)=>f.resetInputs&&f.resetInputs(...e))},"Close")])])],40,c)])])])],8,d)}var Q={emits:["emittedData"],props:["modalId","modalTitle","formId","formMethod","agent","currentName","currentEmail","extension","currentTeamLeader"],data(){return{mdlIsValid:!0,mdlName:{val:null,isValid:!0},mdlEmail:{val:null,isValid:!0},mdlExt:{val:null,isValid:!0},mdlTag:{val:null,isValid:!0},mdlTagType:{val:null,isValid:!0},selectedTeamLeader:{val:null,isValid:!0},updateName:null,updateEmail:null,updateTeamLeader:null}},computed:{salesTeamLeaders(){return this.$store.getters["agentinfo/getSalesTeamLeaders"]},errorDiv(){return this.mdlIsValid?"":"errorDiv"},noUpdate(){return null==this.updateName&&null==this.updateEmail},blankFields(){return""==this.updateName||""==this.updateEmail}},methods:{setName(e){this.updateName=e.target.value,this.mdlIsValid=!0},setEmail(e){this.updateEmail=e.target.value,this.mdlIsValid=!0},setTeamLeader(e){this.updateTeamLeader=e.target.value,this.mdlIsValid=!0},formValidation(){return this.mdlIsValid=!0,"modalTag"==this.modalId&&"addTag"==this.formId?null!=this.mdlTag.val&&""!=this.mdlTag.val&&null!=this.mdlTagType.val&&""!=this.mdlTagType.val||(alert("Blank Fields are not allowed.Please dont leave any blank fields before submitting the form"),this.mdlIsValid=!1):"modalAgent"==this.modalId&&"addAgent"==this.formId?"sales"==this.agent?null!=this.mdlName.val&&""!=this.mdlName.val&&null!=this.mdlEmail.val&&""!=this.mdlEmail.val&&null!=this.mdlExt.val&&""!=this.mdlExt.val&&null!=this.selectedTeamLeader.val&&""!=this.selectedTeamLeader.val||(alert("Blank Fields are not allowed.Please dont leave any blank fields before submitting the form"),this.mdlIsValid=!1):null!=this.mdlName.val&&""!=this.mdlName.val&&null!=this.mdlEmail.val&&""!=this.mdlEmail.val&&null!=this.mdlExt.val&&""!=this.mdlExt.val||(alert("Blank Fields are not allowed.Please dont leave any blank fields before submitting the form"),this.mdlIsValid=!1):"updateAgent"==this.formId&&"updatemodalAgent"==this.modalId&&("sales"==this.agent?null==this.updateTeamLeader&&null==this.updateName&&null==this.updateEmail?(alert("No Found Changes"),this.mdlIsValid=!1):""!=this.updateTeamLeader&&""!=this.updateName&&""!=this.updateEmail||(alert("Blank Fields are not allowed.Please dont leave any blank fields before submitting the form"),this.mdlIsValid=!1):null==this.updateName&&null==this.updateEmail?(alert("No Found Changes"),this.mdlIsValid=!1):""!=this.updateName&&""!=this.updateEmail||(alert("Blank Fields are not allowed.Please dont leave any blank fields before submitting the form"),this.mdlIsValid=!1)),this.mdlIsValid},resetInputs(){this.mdlExt.val=null,this.mdlName.val=null,this.mdlEmail.val=null,this.selectedTeamLeader.val=null,this.updateName=null,this.updateEmail=null,this.updateTeamLeader=null,this.mdlIsValid=!0},submitFromData(){if(!this.formValidation())return;let e;if("modalTag"==this.modalId&&"addTag"==this.formId){let t=new Date,a=t.getMonth()+1,l=t.getFullYear(),s=t.getDate(),d=`${l}-${a}-${s}`;e={createdby:this.$store.getters["getLoggedinUserData"].name,createddate:d,tagname:this.mdlTag.val,tagtype:this.mdlTagType.val},console.log(e)}else if("modalAgent"==this.modalId&&"addAgent"==this.formId)e={name:this.mdlName.val,email:this.mdlEmail.val,extension:this.mdlExt.val},"sales"==this.agent&&(e.teamlead=this.selectedTeamLeader.val);else if("updateAgent"==this.formId&&"updatemodalAgent"==this.modalId){let t,a;t=null!==this.updateName?this.updateName:this.currentName,a=null!==this.updateEmail?this.updateEmail:this.currentEmail,e={name:t,email:a,extension:this.extension},"sales"==this.agent&&(null!==this.updateTeamLeader?(e.teamlead=this.updateTeamLeader,this.updateTeamLeader=null):(e.teamlead=this.currentTeamLeader,this.updateTeamLeader=null))}this.$emit("emittedData",e),this.resetInputs()}}},Z=(a("0b97"),a("6b0d")),ee=a.n(Z);const te=ee()(Q,[["render",H],["__scopeId","data-v-4b9f02f6"]]);t["a"]=te},f49c:function(e,t,a){}}]);
//# sourceMappingURL=chunk-565bf9fe.d1d4ed94.js.map